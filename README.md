# 算法框架系统 (Algorithm Framework System)

一个基于 Python 开发的高性能视频算法处理框架，支持实时视频流分析和多任务并行处理。该框架采用模块化设计，可以灵活扩展不同类型的视觉算法。

## ✨ 主要特性

- 🎯 模块化设计，支持灵活扩展不同算法
- 🎥 实时视频流处理能力
- 🚀 多任务并行处理
- 📊 内置性能监控
- 🔄 支持动态任务配置更新
- 📝 完善的日志记录
- 🛡️ 异常处理和自动恢复机制
- 🔌 标准化的算法接口

## 🎯 系统架构

系统主要包含以下核心组件:

- **AlgoSystem**: 系统主控制器，负责协调各个组件的工作
- **TaskManager**: 任务管理器，处理任务的生命周期
- **AlgorithmManager**: 算法管理器，负责算法的加载和实例化
- **ResourceManager**: 资源管理器，处理视频流等资源
- **OutputManager**: 输出管理器，处理算法结果的存储和转发

## 💡 主要功能

### 视频流处理
- 支持 RTSP/HTTP 等多种视频流格式
- 自动重连和容错机制
- 高效的帧缓存管理
- 支持多路视频流并发处理
- 视频流状态实时监控

### 算法管理
- 动态加载算法模块
- 算法实例生命周期管理
- 支持算法并行处理
- 算法资源自动回收
- 支持热插拔算法模块

### 任务调度
- 基于配置的任务管理
- 支持动态更新任务参数
- 任务状态实时监控
- 任务优先级管理
- 异常任务自动恢复

### 性能监控
- 处理帧率统计
- 算法耗时分析
- 资源占用监控
- 自动性能报告生成
- 性能指标可视化

## 📊 性能指标

- **并发处理能力**
  - 支持多路视频流并行处理
  - 动态负载均衡
  - 资源自动调度

- **实时处理性能**
  - 低延迟的实时处理能力
  - 帧处理平均延迟 < 50ms
  - 支持GPU加速

- **资源管理**
  - 高效的内存管理
  - 自动的资源释放机制
  - 内存使用监控告警

## 🔧 配置说明

系统支持通过 YAML 配置文件进行灵活配置:

- 算法参数配置
- 性能监控配置
- 日志配置
- 视频流参数配置

## 📝 日志系统

- **日志级别**
  - DEBUG: 调试信息
  - INFO: 常规信息
  - WARNING: 警告信息
  - ERROR: 错误信息
  - CRITICAL: 严重错误

- **日志功能**
  - 分级日志记录
  - 自动日志轮转
  - 性能指标记录
  - 异常信息跟踪
  - 操作审计日志

## 📦 项目结构

```
algo_framework/
├── core/                   # 核心组件
│   ├── algorithm_manager.py
│   ├── task_manager.py
│   ├── resource_manager.py
│   └── output_manager.py
├── algorithms/             # 算法实现
│   ├── base_algorithm.py
│   ├── blacklist/
│       ├── blacklist_algorithm.py
│       └── face_api.py
│   └── others/
├── __init__.py
├── config.yaml                # 配置文件
└── main.py                # 入口文件
```

## 🚀 快速开始

```bash
python main.py
```
